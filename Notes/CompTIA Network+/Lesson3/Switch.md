A network device that is really important to understand and in probably most modern network architecture acting as a replacement for hubs and bridges. Ethernet networks implemented using hubs rely on a contention-based access method, where each node is competing with each other for the access, hence the main method for solving this problem is using **switch**.

Switch performs similar to a bridge, but in a more granular way and for many more ports than bridges. Each switch port is a separate collision domain, where the switch establishes a point-to-point link between any two network nodes, usually referred as micro segmentation. Switch work similarly like a bridge however a switch can perform error checking on the frame by using the CRC.

**MAC Address Table** - a way of saving a map of MAC Address location to its port in a switch, if a MAC address is not available in a switch memory the switch will act like a hub and transmit the frame out of all the ports except for the source port. Entries remain in the MAC address table for period before being flushed. This ensures problems are not encountered when network cards are changed (MAC address will also change). The MAC address table is usually implemented as content addressable memory, a special type of memory optimized for searching.

**Switch types** - usually switch can be determined using the following general categories
- Unmanaged vs managed - an unmanaged switch can run without any configuration, the switch functionality might also be built into an Internet router/modem. However, most corporate network switches are managed.
- Stackable, switches that can be connected together and operate as a group, the stacked switch can be managed as a single unit.
- Modular vs fixed - a fixed switch comes with a set number of ports that cannot be changed or managed. However a modular switch can take plug-in cards, meaning the number and types of port in the switch can be changed.
- Desktop vs rack-mounted - Literally just talking about the size of the switch.

**Port Mirroring** - since every frame transmission is only send to the destination port, which is beneficial because it prevents sniffing of unicast traffic. However in some cases we want to capture and analyze network traffic that is happening, hence and port mirroring provides facility to do this. The mirror port would be used by management or monitoring software, such as a packet sniffer, network analyzer and much more.

**Switching loops and broadcast storms** - A resilience network architecture is usually implemented by using multiple connected switch making a network usable even though one or more switch is broken, this is referred as Switching loops. However switching loops can cause something called as broadcast storm, where a switch flood all its port with a frame that has an unknown destination MAC Address. The time where the other switch receive the frame it repeats the frame to all the ports causing a layer 2 broadcast storm. In solving this problem of broadcast storms a protocol is used called spanning tree (STP).

**Spanning Tree Protocol** - a protocol that is used for organizing the hierarchy of switches acting as a bridge. The bridge at the top priority is called as **root bridge**. Usually a high-bandwidth backbone or core switch is appointed as a root bridge, hence the performance of the network will suffer if a low-bandwidth segment becomes root. Each bridge then determines the shortest path to the root bridge by exchanging STP information that is called as **bridge protocol data unit (BDPU)**. A port that would create a loop is identified as blocking or non-designated port. Subsequently bridges exchange **Topology Change Notification** if a bridge is added or removed from the network architecture.

**BDPU and Root Guard** - A switch keeps a MAC Address table cache associated with its port. However in an STP network architecture a topology change can cause a switch to flush the cache more frequently and to start flooding the unicast traffic which can cause serious impact on network performance. In order to minimize the effects of unicast flooding, the network needs to ensure access (ports leading to computer) ports doesn't receive the topology change notifications. Some commands that can be used to filter STP traffic includes:
- **BDPU Guard** - This causes a port configured with PortFast that receives BDPU to become disabled.
- **BDPU Filter** - causes a port to drop all BDPUs.
- **Root Guard** - This setting means a switch will not accept attempts from switches connected to the guarded port to become the root.